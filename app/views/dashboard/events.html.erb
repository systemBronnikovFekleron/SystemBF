<div class="dashboard-content">
  <div class="dashboard-header">
    <h1>–ú–æ–∏ —Å–æ–±—ã—Ç–∏—è</h1>
    <p class="subtitle">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</p>
    <%= link_to '–ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å–æ–±—ã—Ç–∏–π ‚Üí', calendar_events_path, class: 'btn btn-primary' %>
  </div>

  <!-- Upcoming Events -->
  <% if @upcoming.any? %>
    <div class="mb-4">
      <h2 class="section-title">–ü—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ —Å–æ–±—ã—Ç–∏—è</h2>
      <% @upcoming.each do |registration| %>
        <div class="card glass-effect mb-3">
          <div class="card-body">
            <div class="row align-items-center">
              <div class="col-md-8">
                <h3 class="event-title"><%= registration.event.title %></h3>
                <div class="event-meta">
                  <span>üìÖ <%= registration.event.starts_at.strftime('%d.%m.%Y –≤ %H:%M') %></span>
                  <span>üìç <%= registration.event.format_location %></span>
                  <span class="badge badge-<%= registration.status %>"><%= registration.status.humanize %></span>
                </div>
              </div>
              <div class="col-md-4 text-end">
                <%= link_to '–ü–æ–¥—Ä–æ–±–Ω–µ–µ', event_path(registration.event), class: 'btn btn-primary' %>
                <% if registration.status_pending? || registration.status_confirmed? %>
                  <%= button_to '–û—Ç–º–µ–Ω–∏—Ç—å', event_registration_path(registration), method: :delete, class: 'btn btn-outline-danger', data: { confirm: '–í—ã —É–≤–µ—Ä–µ–Ω—ã?' } %>
                <% end %>
              </div>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  <% end %>

  <!-- Past Events -->
  <% if @past.any? %>
    <div>
      <h2 class="section-title">–ü—Ä–æ—à–µ–¥—à–∏–µ —Å–æ–±—ã—Ç–∏—è</h2>
      <% @past.each do |registration| %>
        <div class="card glass-effect mb-3 opacity-75">
          <div class="card-body">
            <div class="row align-items-center">
              <div class="col-md-8">
                <h3 class="event-title"><%= registration.event.title %></h3>
                <div class="event-meta">
                  <span>üìÖ <%= registration.event.starts_at.strftime('%d.%m.%Y –≤ %H:%M') %></span>
                  <span>üìç <%= registration.event.format_location %></span>
                  <span class="badge badge-<%= registration.status %>"><%= registration.status.humanize %></span>
                </div>
              </div>
              <div class="col-md-4 text-end">
                <%= link_to '–ü–æ–¥—Ä–æ–±–Ω–µ–µ', event_path(registration.event), class: 'btn btn-secondary' %>
              </div>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  <% end %>

  <% if @upcoming.empty? && @past.empty? %>
    <div class="empty-state">
      <div class="empty-icon">üìÖ</div>
      <h3>–£ –≤–∞—Å –Ω–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π</h3>
      <p>–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—å –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π</p>
      <%= link_to '–ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å–æ–±—ã—Ç–∏–π', calendar_events_path, class: 'btn btn-primary' %>
    </div>
  <% end %>
</div>

<style>
.event-title {
  font-size: 1.25rem;
  margin-bottom: 0.5rem;
}

.event-meta {
  display: flex;
  gap: 1.5rem;
  color: var(--text-secondary);
  font-size: 0.875rem;
}

.event-meta span {
  display: flex;
  align-items: center;
  gap: 0.25rem;
}
</style>
