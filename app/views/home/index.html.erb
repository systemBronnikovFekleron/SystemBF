<!-- Hero Section -->
<section style="
  padding: 2rem 0 4rem;
  background: linear-gradient(135deg, rgba(99, 102, 241, 0.05), rgba(168, 85, 247, 0.05));
  position: relative;
  overflow: hidden;
">
  <!-- Decorative background elements -->
  <div style="
    position: absolute;
    top: -100px;
    right: -100px;
    width: 400px;
    height: 400px;
    background: radial-gradient(circle, rgba(99, 102, 241, 0.1), transparent 70%);
    border-radius: 50%;
    animation: pulse 4s ease-in-out infinite;
  "></div>

  <div class="container">
    <div class="text-center fade-in">
      <div style="display: inline-block; margin-bottom: 1.5rem;">
        <span class="badge badge-featured" style="font-size: 0.875rem; padding: 0.5rem 1rem;">
          ‚úß –ù–æ–≤–∞—è —ç—Ä–∞ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
        </span>
      </div>

      <h1 class="text-gradient fade-in stagger-1" style="margin-bottom: 1.5rem;">
        –°–∏—Å—Ç–µ–º–∞ –ë—Ä–æ–Ω–Ω–∏–∫–æ–≤–∞
      </h1>

      <p class="fade-in stagger-2" style="
        font-size: 1.25rem;
        color: var(--gray-600);
        max-width: 700px;
        margin: 0 auto 2rem;
        line-height: 1.8;
      ">
        –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è —Å–≤–µ—Ä—Ö—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π<br/>
        –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è —á–µ–ª–æ–≤–µ–∫–∞
      </p>

      <div class="fade-in stagger-3" style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
        <a href="/products" class="btn btn-primary btn-lg">
          <span>–ù–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ</span>
          <span>‚Üí</span>
        </a>
        <a href="#features" class="btn btn-outline btn-lg">
          <span>–£–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ</span>
        </a>
      </div>
    </div>
  </div>
</section>

<!-- Featured Products -->
<% if @featured_products.any? %>
<section class="container" style="padding: 4rem 0;">
  <div style="text-align: center; margin-bottom: 3rem;">
    <h2 class="text-gradient" style="margin-bottom: 0.5rem;">–ò–∑–±—Ä–∞–Ω–Ω—ã–µ –∫—É—Ä—Å—ã</h2>
    <p style="color: var(--gray-600);">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –¥–ª—è –≤–∞—à–µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è</p>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    <% @featured_products.each_with_index do |product, index| %>
      <div class="card card-product fade-in stagger-<%= index + 1 %>" onclick="window.location.href='/products/<%= product.slug %>'">
        <div class="product-image">
          <span><%= product_icon(product.product_type) %></span>
          <span class="badge badge-featured" style="position: absolute; top: 1rem; right: 1rem;">
            –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
          </span>
        </div>

        <div>
          <span class="badge badge-primary" style="margin-bottom: 0.75rem;">
            <%= product_type_label(product.product_type) %>
          </span>

          <h3 style="font-size: 1.25rem; margin-bottom: 0.5rem; color: var(--gray-900);">
            <%= product.name %>
          </h3>

          <p style="color: var(--gray-600); font-size: 0.875rem; margin-bottom: 1rem; line-height: 1.6;">
            <%= truncate(product.description, length: 100) %>
          </p>

          <div style="display: flex; justify-content: space-between; align-items: center;">
            <div>
              <div style="font-size: 1.75rem; font-weight: 700; background: linear-gradient(135deg, var(--primary), var(--secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
                <%= product.price.format %>
              </div>
            </div>
            <button class="btn btn-primary btn-sm">
              –ü–æ–¥—Ä–æ–±–Ω–µ–µ
            </button>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</section>
<% end %>

<!-- Features -->
<section id="features" style="background: linear-gradient(180deg, transparent, rgba(99, 102, 241, 0.03)); padding: 4rem 0;">
  <div class="container">
    <div style="text-align: center; margin-bottom: 3rem;">
      <h2 class="text-gradient">–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</h2>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <div class="card fade-in stagger-1" style="text-align: center;">
        <div style="font-size: 3rem; margin-bottom: 1rem;">üë§</div>
        <h3 style="font-size: 1.25rem; margin-bottom: 0.75rem;">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h3>
        <p style="color: var(--gray-600); line-height: 1.6;">
          –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–º, –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –∫–æ—à–µ–ª—å–∫–æ–º –∏ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π
        </p>
      </div>

      <div class="card fade-in stagger-2" style="text-align: center;">
        <div style="font-size: 3rem; margin-bottom: 1rem;">üõçÔ∏è</div>
        <h3 style="font-size: 1.25rem; margin-bottom: 0.75rem;">–ú–∞–≥–∞–∑–∏–Ω –∫—É—Ä—Å–æ–≤</h3>
        <p style="color: var(--gray-600); line-height: 1.6;">
          –ü–æ–∫—É–ø–∫–∞ –∫—É—Ä—Å–æ–≤, –∫–Ω–∏–≥, –≤–∏–¥–µ–æ–º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –∏ —É—Å–ª—É–≥ —Å –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º
        </p>
      </div>

      <div class="card fade-in stagger-3" style="text-align: center;">
        <div style="font-size: 3rem; margin-bottom: 1rem;">‚≠ê</div>
        <h3 style="font-size: 1.25rem; margin-bottom: 0.75rem;">–†–µ–π—Ç–∏–Ω–≥ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h3>
        <p style="color: var(--gray-600); line-height: 1.6;">
          –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Å–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –±–æ–Ω—É—Å—ã –∑–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
        </p>
      </div>

      <div class="card fade-in stagger-4" style="text-align: center;">
        <div style="font-size: 3rem; margin-bottom: 1rem;">üè™</div>
        <h3 style="font-size: 1.25rem; margin-bottom: 0.75rem;">–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å</h3>
        <p style="color: var(--gray-600); line-height: 1.6;">
          –ù–∞–π–¥–∏—Ç–µ —Ü–µ–Ω—Ç—Ä—ã –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–π —Å–∏—Å—Ç–µ–º—ã –≤ –≤–∞—à–µ–º —Ä–µ–≥–∏–æ–Ω–µ
        </p>
      </div>

      <div class="card fade-in stagger-5" style="text-align: center;">
        <div style="font-size: 3rem; margin-bottom: 1rem;">üìÖ</div>
        <h3 style="font-size: 1.25rem; margin-bottom: 0.75rem;">–ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å–æ–±—ã—Ç–∏–π</h3>
        <p style="color: var(--gray-600); line-height: 1.6;">
          –ê—Ñ–∏—à–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π, –∑–∞–ø–∏—Å—å –Ω–∞ –∫—É—Ä—Å—ã –∏ —Å–µ–º–∏–Ω–∞—Ä—ã –æ–Ω–ª–∞–π–Ω
        </p>
      </div>

      <div class="card fade-in stagger-6" style="text-align: center;">
        <div style="font-size: 3rem; margin-bottom: 1rem;">üîê</div>
        <h3 style="font-size: 1.25rem; margin-bottom: 0.75rem;">–ï–¥–∏–Ω—ã–π –≤—Ö–æ–¥</h3>
        <p style="color: var(--gray-600); line-height: 1.6;">
          –û–¥–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫–æ –≤—Å–µ–º —Å–µ—Ä–≤–∏—Å–∞–º —Å–∏—Å—Ç–µ–º—ã
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Recent Products -->
<% if @recent_products.any? %>
<section class="container" style="padding: 4rem 0;">
  <div style="text-align: center; margin-bottom: 3rem;">
    <h2 class="text-gradient">–ù–æ–≤—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</h2>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    <% @recent_products.limit(6).each_with_index do |product, index| %>
      <div class="card card-product fade-in stagger-<%= (index % 3) + 1 %>" onclick="window.location.href='/products/<%= product.slug %>'">
        <div class="product-image">
          <span><%= product_icon(product.product_type) %></span>
        </div>

        <div>
          <span class="badge badge-primary" style="margin-bottom: 0.75rem;">
            <%= product_type_label(product.product_type) %>
          </span>

          <h3 style="font-size: 1.25rem; margin-bottom: 0.5rem; color: var(--gray-900);">
            <%= product.name %>
          </h3>

          <p style="color: var(--gray-600); font-size: 0.875rem; margin-bottom: 1rem; line-height: 1.6;">
            <%= truncate(product.description, length: 100) %>
          </p>

          <div style="display: flex; justify-content: space-between; align-items: center;">
            <div>
              <div style="font-size: 1.75rem; font-weight: 700; background: linear-gradient(135deg, var(--primary), var(--secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
                <%= product.price.format %>
              </div>
            </div>
            <button class="btn btn-primary btn-sm">
              –ü–æ–¥—Ä–æ–±–Ω–µ–µ
            </button>
          </div>
        </div>
      </div>
    <% end %>
  </div>

  <div style="text-align: center; margin-top: 3rem;">
    <a href="/products" class="btn btn-outline btn-lg">
      –°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã ‚Üí
    </a>
  </div>
</section>
<% end %>

<!-- CTA Section -->
<section style="
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  padding: 4rem 0;
  position: relative;
  overflow: hidden;
">
  <div style="
    position: absolute;
    inset: 0;
    background-image: radial-gradient(circle at 20% 50%, rgba(255, 255, 255, 0.1) 1px, transparent 1px),
                      radial-gradient(circle at 80% 50%, rgba(255, 255, 255, 0.1) 1px, transparent 1px);
    background-size: 50px 50px;
    opacity: 0.3;
  "></div>

  <div class="container" style="position: relative; z-index: 1;">
    <div style="text-align: center; color: white;">
      <h2 style="color: white; margin-bottom: 1rem; font-size: 2.25rem;">
        –ù–∞—á–Ω–∏—Ç–µ —Å–≤–æ–π –ø—É—Ç—å —Ä–∞–∑–≤–∏—Ç–∏—è —Å–µ–≥–æ–¥–Ω—è
      </h2>
      <p style="font-size: 1.125rem; margin-bottom: 2rem; opacity: 0.9;">
        –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ —Ç—ã—Å—è—á–∞–º —É—á–µ–Ω–∏–∫–æ–≤ –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É
      </p>
      <a href="/products" class="btn" style="
        background: white;
        color: #4F46E5;
        font-weight: 600;
        padding: 1rem 2.5rem;
        font-size: 1.125rem;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        border: none;
      ">
        –í—ã–±—Ä–∞—Ç—å –∫—É—Ä—Å
      </a>
    </div>
  </div>
</section>

<% content_for :head do %>
  <style>
    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 0.5; }
      50% { transform: scale(1.05); opacity: 0.8; }
    }
  </style>
<% end %>

<%# Helper methods %>
<%
  def product_icon(type)
    case type
    when 'video' then 'üé¨'
    when 'book' then 'üìö'
    when 'course' then 'üéì'
    when 'service' then 'üíº'
    when 'event_access' then 'üé´'
    else 'üì¶'
    end
  end

  def product_type_label(type)
    {
      'video' => '–í–∏–¥–µ–æ',
      'book' => '–ö–Ω–∏–≥–∞',
      'course' => '–ö—É—Ä—Å',
      'service' => '–£—Å–ª—É–≥–∞',
      'event_access' => '–°–æ–±—ã—Ç–∏–µ'
    }[type] || type.capitalize
  end
%>
